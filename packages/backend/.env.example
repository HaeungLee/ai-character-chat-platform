# Environment variables declared in this file are automatically made available to Prisma.
# See the documentation for more detail: https://pris.ly/d/prisma-schema#accessing-environment-variables-from-the-schema

# Prisma supports the native connection string format for PostgreSQL, MySQL, SQLite, SQL Server, MongoDB and CockroachDB.
# See the documentation for all the connection string options: https://pris.ly/d/connection-strings

# The following `prisma+postgres` URL is similar to the URL produced by running a local Prisma Postgres 
# server with the `prisma dev` CLI command, when not choosing any non-default ports or settings. The API key, unlike the 
# one found in a remote Prisma Postgres URL, does not contain any sensitive information.

DATABASE_URL="prisma+postgres://localhost:51213/?api_key=eyJkYXRhYmFzZVVybCI6InBvc3RncmVzOi8vcG9zdGdyZXM6cG9zdGdyZXNAbG9jYWxob3N0OjUxMjE0L3RlbXBsYXRlMT9zc2xtb2RlPWRpc2FibGUmY29ubmVjdGlvbl9saW1pdD0xJmNvbm5lY3RfdGltZW91dD0wJm1heF9pZGxlX2Nvbm5lY3Rpb25fbGlmZXRpbWU9MCZwb29sX3RpbWVvdXQ9MCZzaW5nbGVfdXNlX2Nvbm5lY3Rpb25zPXRydWUmc29ja2V0X3RpbWVvdXQ9MCIsIm5hbWUiOiJkZWZhdWx0Iiwic2hhZG93RGF0YWJhc2VVcmwiOiJwb3N0Z3JlczovL3Bvc3RncmVzOnBvc3RncmVzQGxvY2FsaG9zdDo1MTIxNS90ZW1wbGF0ZTE_c3NsbW9kZT1kaXNhYmxlJmNvbm5lY3Rpb25fbGltaXQ9MSZjb25uZWN0X3RpbWVvdXQ9MCZtYXhfaWRsZV9jb25uZWN0aW9uX2xpZmV0aW1lPTAmcG9vbF90aW1lb3V0PTAmc2luZ2xlX3VzZV9jb25uZWN0aW9ucz10cnVlJnNvY2tldF90aW1lb3V0PTAifQ"

# AI 캐릭터 채팅 & 이미지 생성 플랫폼 - 백엔드 환경 변수 예시
# 이 파일을 복사해서 .env 파일을 만들고 실제 값으로 변경하세요

# ===========================================
# 서버 기본 설정
# ===========================================
PORT=8000
NODE_ENV=development
HOST=localhost

# ===========================================
# 데이터베이스 설정
# ===========================================

# PostgreSQL (Prisma)
DATABASE_URL="postgresql://username:password@localhost:5432/ai_chat_platform?schema=public"

# MongoDB (Mongoose)
MONGODB_URI="mongodb://localhost:27017/ai_chat_platform"

# Redis 설정
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
REDIS_DB=0

# ===========================================
# JWT 설정
# ===========================================
JWT_SECRET=your-backend-jwt-secret-key-here-make-it-very-long-and-secure
JWT_REFRESH_SECRET=your-backend-refresh-secret-key-here-make-it-different
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ===========================================
# AI 서비스 설정
# ===========================================

# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORGANIZATION_ID=your-org-id-optional

# Replicate
REPLICATE_API_TOKEN=your-replicate-api-token-here

# Stability AI
STABILITY_API_KEY=your-stability-api-key-here

# ===========================================
# 이메일 서비스 (선택사항)
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
FROM_EMAIL=noreply@yourapp.com

# ===========================================
# 파일 스토리지 설정 (AWS S3)
# ===========================================
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
S3_BUCKET_NAME=your-app-bucket
CLOUDFRONT_URL=https://your-cdn.cloudfront.net

# ===========================================
# 보안 설정
# ===========================================
BCRYPT_ROUNDS=12
CORS_ORIGIN=http://localhost:3000

# Rate Limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# 로깅 설정
# ===========================================
LOG_LEVEL=info
LOG_FILE=logs/app.log

# ===========================================
# WebSocket 설정
# ===========================================
SOCKET_CORS_ORIGIN=http://localhost:3000
SOCKET_PATH=/socket.io

# ===========================================
# 세션 설정
# ===========================================
SESSION_SECRET=your-session-secret-key-here-make-it-secure

# ===========================================
# API 키 관리
# ===========================================
API_KEY_ENCRYPTION_KEY=your-32-character-encryption-key-here

# ===========================================
# Stripe 결제 설정 (프로덕션에서 필수)
# ===========================================
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key-here
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# ===========================================
# 모니터링 및 분석 (선택사항)
# ===========================================
SENTRY_DSN=your-sentry-dsn-here
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key-here

# ===========================================
# CDN 및 스토리지 추가 설정
# ===========================================
CDN_URL=https://your-cdn-url.com
STORAGE_BUCKET=your-storage-bucket

# ===========================================
# 개발 환경 설정
# ===========================================
DEBUG=true
ENABLE_SWAGGER=true

# ===========================================
# 테스트 환경 설정 (선택사항)
# ===========================================
TEST_DATABASE_URL="postgresql://testuser:testpass@localhost:5433/ai_chat_test?schema=public"
TEST_MONGODB_URI="mongodb://localhost:27018/ai_chat_test"
TEST_REDIS_URL="redis://localhost:6380"