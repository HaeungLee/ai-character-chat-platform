## NOTE
## - Environment variables declared in a `.env` file are automatically made available to Prisma.
## - This file is a template; copy to `.env` and fill in real values.
## - Docker-compose local defaults are included below.

# AI 캐릭터 채팅 & 이미지 생성 플랫폼 - 백엔드 환경 변수 예시
# 이 파일을 복사해서 .env 파일을 만들고 실제 값으로 변경하세요

# ===========================================
# 서버 기본 설정
# ===========================================
PORT=8000
NODE_ENV=development
HOST=localhost

# ===========================================
# 데이터베이스 설정
# ===========================================

# PostgreSQL (Prisma)
DATABASE_URL="postgresql://postgres:postgres123@localhost:5432/ai_chat_platform?schema=public"

# MongoDB (Mongoose)
MONGODB_URI="mongodb://admin:mongodb123@localhost:27017/ai_chat_platform?authSource=admin"

# Redis 설정 (포트 6383 사용 - 다른 프로젝트와 충돌 방지)
REDIS_URL="redis://localhost:6383"
REDIS_HOST=localhost
REDIS_PORT=6383
REDIS_PASSWORD="redis123"
REDIS_DB=0

# ===========================================
# JWT 설정
# ===========================================
JWT_SECRET=your-backend-jwt-secret-key-here-make-it-very-long-and-secure
JWT_REFRESH_SECRET=your-backend-refresh-secret-key-here-make-it-different
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ===========================================
# AI 서비스 설정
# ===========================================

# OpenAI (GPT-4, DALL-E 3, 임베딩)
# 가입: https://platform.openai.com/signup
# API 키: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORGANIZATION_ID=your-org-id-optional
OPENAI_DEFAULT_MODEL=gpt-4o
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# OpenRouter (검열 해제 모델, 무료 모델 포함) ⭐ 추천!
# 가입: https://openrouter.ai/
# API 키: https://openrouter.ai/keys
# 크레딧: 가입 시 $1 무료, 무료 모델도 많음
OPENROUTER_API_KEY=sk-or-v1-your-openrouter-api-key-here

# OpenRouter 기본 모델 설정
# 무료 모델 (추천):
# - meta-llama/llama-3.3-70b-instruct:free (70B 파라미터, 무료!)
# - google/gemini-flash-1.5-8b:free (빠르고 무료)
# - mistralai/mistral-7b-instruct:free (안정적)
OPENROUTER_DEFAULT_MODEL=meta-llama/llama-3.3-70b-instruct:free

# OpenRouter 사이트 정보 (환불 및 분석용, 선택사항)
OPENROUTER_SITE_URL=http://localhost:3000
OPENROUTER_SITE_NAME=AI Character Chat Platform

# 검열 해제 모드 설정 (NSFW 콘텐츠 허용)
# 주의: 성인 콘텐츠가 허용됩니다. 책임감 있게 사용하세요.
ENABLE_NSFW=false

# NSFW 모드 기본 모델 (검열 해제)
# - cognitivecomputations/dolphin-mixtral-8x22b (강력 추천)
# - nousresearch/hermes-3-llama-3.1-405b (405B, 무료!)
# - sao10k/l3.1-70b-euryale-v2.2 (롤플레이 특화)
NSFW_DEFAULT_MODEL=cognitivecomputations/dolphin-mixtral-8x22b

# AI 서비스 우선순위 (쉼표로 구분, 앞에서부터 시도)
# Fallback 메커니즘: 첫 번째 실패 시 다음 프로바이더 사용
AI_PROVIDER_PRIORITY=openrouter,openai

# Replicate (이미지 생성 - Flux, SDXL)
# 가입: https://replicate.com/
# API 토큰: https://replicate.com/account/api-tokens
REPLICATE_API_TOKEN=r8_your-replicate-api-token-here
REPLICATE_DEFAULT_MODEL=black-forest-labs/flux-schnell

# Stability AI (이미지 생성 - SDXL, SD3)
# 가입: https://platform.stability.ai/
# API 키: https://platform.stability.ai/account/keys
STABILITY_API_KEY=sk-your-stability-api-key-here
STABILITY_DEFAULT_MODEL=stable-diffusion-xl-1024-v1-0

# 이미지 생성 기본 설정
DEFAULT_IMAGE_WIDTH=1024
DEFAULT_IMAGE_HEIGHT=1024
DEFAULT_IMAGE_STEPS=30
DEFAULT_IMAGE_GUIDANCE=7.5

# ===========================================
# 이메일 서비스 (선택사항)
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
FROM_EMAIL=noreply@yourapp.com

# ===========================================
# 파일 스토리지 설정 (AWS S3)
# ===========================================
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
S3_BUCKET_NAME=your-app-bucket
CLOUDFRONT_URL=https://your-cdn.cloudfront.net

# ===========================================
# 보안 설정
# ===========================================
BCRYPT_ROUNDS=12
CORS_ORIGIN=http://localhost:3000

# Rate Limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# 로깅 설정
# ===========================================
LOG_LEVEL=info
LOG_FILE=logs/app.log

# ===========================================
# WebSocket 설정
# ===========================================
SOCKET_CORS_ORIGIN=http://localhost:3000
SOCKET_PATH=/socket.io

# ===========================================
# 세션 설정
# ===========================================
SESSION_SECRET=your-session-secret-key-here-make-it-secure

# ===========================================
# API 키 관리
# ===========================================
API_KEY_ENCRYPTION_KEY=your-32-character-encryption-key-here

# ===========================================
# Stripe 결제 설정 (프로덕션에서 필수)
# ===========================================
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key-here
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# ===========================================
# 모니터링 및 분석 (선택사항)
# ===========================================
SENTRY_DSN=your-sentry-dsn-here
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key-here

# ===========================================
# CDN 및 스토리지 추가 설정
# ===========================================
CDN_URL=https://your-cdn-url.com
STORAGE_BUCKET=your-storage-bucket

# ===========================================
# 개발 환경 설정
# ===========================================
DEBUG=true
ENABLE_SWAGGER=true

# ===========================================
# 테스트 환경 설정 (선택사항)
# ===========================================
TEST_DATABASE_URL="postgresql://testuser:testpass@localhost:5433/ai_chat_test?schema=public"
TEST_MONGODB_URI="mongodb://localhost:27018/ai_chat_test"
TEST_REDIS_URL="redis://localhost:6380"