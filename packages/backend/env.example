# =====================================================
# AI Character Chat Platform - Backend Environment
# =====================================================
# 이 파일을 .env로 복사하고 값을 설정하세요
# cp env.example .env

# =====================================================
# 서버 설정
# =====================================================
NODE_ENV=development
PORT=8000
LOG_LEVEL=info

# =====================================================
# 데이터베이스
# =====================================================
# PostgreSQL (Prisma)
DATABASE_URL=postgresql://postgres:postgres123@localhost:5432/ai_chat_platform?schema=public

# MongoDB
MONGODB_URI=mongodb://admin:mongodb123@localhost:27017/ai_chat_platform

# Redis
## docker-compose.yml uses 6383:6379 (host:container)
REDIS_URL=redis://localhost:6383
REDIS_HOST=localhost
REDIS_PORT=6383
REDIS_PASSWORD=redis123
REDIS_DB=0

# =====================================================
# 인증 (JWT)
# =====================================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_REFRESH_SECRET=your-refresh-secret-key-change-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
SESSION_SECRET=your-session-secret-key-here

# =====================================================
# AI 서비스 - OpenAI
# =====================================================
# OpenAI API (https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_ORGANIZATION_ID=                    # 선택사항
OPENAI_MODEL=gpt-4o                        # gpt-4, gpt-4o, gpt-3.5-turbo
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=1000

# =====================================================
# AI 서비스 - OpenRouter (검열 해제 모델용)
# =====================================================
# OpenRouter API (https://openrouter.ai/keys)
OPENROUTER_API_KEY=sk-or-v1-your-openrouter-api-key
OPENROUTER_SITE_URL=http://localhost:3000  # 환불/분석용
OPENROUTER_SITE_NAME=AI Character Chat Platform

# 기본 모델 (무료 모델로 테스트 가능)
# 무료 모델:
#   - meta-llama/llama-3.2-3b-instruct:free (추천)
#   - meta-llama/llama-3.1-8b-instruct:free
#   - google/gemma-2-9b-it:free
#   - mistralai/mistral-7b-instruct:free
#   - openchat/openchat-7b:free
#
# 검열 해제 모델 (유료):
#   - cognitivecomputations/dolphin-mixtral-8x22b
#   - cognitivecomputations/dolphin-llama-3-70b
#   - gryphe/mythomax-l2-13b
#   - undi95/toppy-m-7b
#
# 롤플레이 특화 (유료):
#   - sao10k/l3.1-70b-euryale-v2.2
#   - neversleep/llama-3.1-lumimaid-70b
OPENROUTER_DEFAULT_MODEL=meta-llama/llama-3.2-3b-instruct:free

# =====================================================
# AI 서비스 - 이미지 생성
# =====================================================
# Replicate (https://replicate.com/account)
REPLICATE_API_TOKEN=r8_your-replicate-token

# Stability AI (https://platform.stability.ai/)
STABILITY_API_KEY=sk-your-stability-key

# =====================================================
# CORS 및 보안
# =====================================================
CORS_ORIGIN=http://localhost:3000
SOCKET_CORS_ORIGIN=http://localhost:3000
API_KEY_ENCRYPTION_KEY=your-32-character-encryption-key-here

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000   # 15분
RATE_LIMIT_MAX_REQUESTS=100   # IP당 최대 요청 수

# =====================================================
# 메모리 시스템
# =====================================================
# 서버 시작 시 메모리 정리 실행 여부
RUN_CLEANUP_ON_START=false

# =====================================================
# 결제 (선택사항)
# =====================================================
# Stripe (https://dashboard.stripe.com/apikeys)
STRIPE_SECRET_KEY=sk_test_your-stripe-secret
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# =====================================================
# 외부 서비스 (선택사항)
# =====================================================
# Sentry (에러 모니터링)
SENTRY_DSN=

# AWS S3 (파일 저장)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=ap-northeast-2
AWS_S3_BUCKET=


